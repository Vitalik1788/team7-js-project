!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){r[t]=e},e.parcelRequired7c6=i),i.register("faT6s",(function(t,e){var n=document.getElementById("menu"),r=document.querySelector("nav"),i=document.getElementById("overlay"),c=document.querySelector("body");n.addEventListener("click",(function(){r.style.left="0",i.style.display="block",c.style.overflow="hidden"})),i.addEventListener("click",(function(){r.style.left="-64%",i.style.display="none",c.style.overflow="auto"}));var o=document.querySelector(".switcher"),a="true"===localStorage.getItem("isLight");document.body.classList.toggle("light",a),o.onclick=function(){a=!a,document.body.classList.toggle("light",a),localStorage.setItem("isLight",a)};var s=window.location.href,l=document.querySelectorAll(".mobile-menu__link, .header__nav-link");if(l[0].classList.add("current__nav-link"),l[3].classList.add("current__nav-link"),!s.includes("index"))return s.includes("catalog")?(l[0].classList.remove("current__nav-link"),l[3].classList.remove("current__nav-link"),l[1].classList.add("current__nav-link"),void l[4].classList.add("current__nav-link")):s.includes("library")?(l[0].classList.remove("current__nav-link"),l[3].classList.remove("current__nav-link"),l[1].classList.remove("current__nav-link"),l[4].classList.remove("current__nav-link"),l[2].classList.add("current__nav-link"),void l[5].classList.add("current__nav-link")):void 0})),i("7svdd"),i("faT6s"),i("2ufDr"),i("fFZM4");var c,o=i("bpxeT"),a=i("2TvXO"),s=i("l5bVx"),l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,f="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,_=f||m||Function("return this")(),g=Object.prototype.toString,y=Math.max,h=Math.min,b=function(){return _.Date.now()};function w(e){var n=void 0===e?"undefined":t(s)(e);return!!e&&("object"==n||"function"==n)}function x(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(s)(e))||function(t){return!!t&&"object"==typeof t}(e)&&"[object Symbol]"==g.call(e)}(e))return NaN;if(w(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=w(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var r=d.test(e);return r||p.test(e)?v(e.slice(2),r?2:8):u.test(e)?NaN:+e}c=function(t,e,n){var r,i,c,o,a,s,l=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=r,c=i;return r=i=void 0,l=e,o=t.apply(c,n)}function f(t){return l=t,a=setTimeout(_,e),u?v(t):o}function m(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-l>=c}function _(){var t=b();if(m(t))return g(t);a=setTimeout(_,function(t){var n=e-(t-s);return d?h(n,c-(t-l)):n}(t))}function g(t){return a=void 0,p&&r?v(t):(r=i=void 0,o)}function L(){var t=b(),n=m(t);if(r=arguments,i=this,s=t,n){if(void 0===a)return f(s);if(d)return a=setTimeout(_,e),v(s)}return void 0===a&&(a=setTimeout(_,e)),o}return e=x(e)||0,w(n)&&(u=!!n.leading,c=(d="maxWait"in n)?y(x(n.maxWait)||0,e):c,p="trailing"in n?!!n.trailing:p),L.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=s=i=a=void 0},L.flush=function(){return void 0===a?o:g(b())},L};o=i("bpxeT"),a=i("2TvXO");var L=i("dIxxU"),k=i("fpBey"),T=L.default.create({baseURL:"https://api.themoviedb.org/3/movie/upcoming",headers:{Authorization:"Bearer ".concat(k.API_BAERER)}});function O(){return E.apply(this,arguments)}function E(){return(E=t(o)(t(a).mark((function e(){var n;return t(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.get();case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var j=i("idULJ");k=i("fpBey");function S(t){var e,n=t.backdrop_path,r=t.poster_path,i=t.title,c=t.release_date,o=t.popularity,a=t.vote_count,s=t.vote_average,l=(t.genre_ids,t.overview),u=t.id,d=(0,j.findFilmAtStorage)(k.STORAGE_KEY,u),p=d?"remove":"add",v=d?"Remove from my library":"Add to my library",f=window.screen.width<768?r:n,m=c.replaceAll("-","."),_=(0,j.roundToTen)(o),g=(e=["comedy","action","thriller"]).length>2?"".concat(e.slice(0,2).join(", "),", ..."):"".concat(e.join(", "));return"\n        <div class='upcoming-card__figure'>\n          <div class='upcoming-card__layout'></div>\n            <img\n              src=\"https://image.tmdb.org/t/p/original".concat(f,'"\n              alt="').concat(i,"\"\n              loading='lazy'\n              class='upcoming-card__img'\n            > \n          </div>\n        </div>\n        <div class='upcoming-card__body'>\n          <h3 class=\"upcoming-card__title\">").concat(i,'</h3>\n          <div class=\'metrics-list__main-container\'>\n            <ul class="list metrics-list">\n              <li class="metrics-list__item">\n                <p class="metrics-text">Release date</p>\n                <p class="metrics-text metrics-text--date">').concat(m,'</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Vote / Votes</p>\n                <p class="metrics-text metrics-text--vote">\n                  <span class="vote-wrapper">').concat(s,'</span>\n                  /\n                  <span class="vote-wrapper">').concat(a,'</span>\n                </p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Popularity</p>\n                <p class="metrics-text">').concat(_,'</p>\n              </li>\n              <li class="metrics-list__item">\n                <p class="metrics-text">Genre</p>\n                <p class="metrics-text">').concat(g,'</p>\n              </li>\n            </ul>\n          </div>\n          <h4 class="upcoming-card__subtitle metrics-text">ABOUT</h4>\n            <p class="upcoming-card__text">').concat(l,'</p>\n          <button class="btn" type="button" data-id=').concat(u," data-").concat(p,">").concat(v,"</button>\n        </div>")}function R(t){var e=t.poster_path,n=t.backdrop_path,r=(t.title,window.matchMedia("(max-width: 767px)"),document.querySelector(".upcoming-card__img"));if(!r)return console.log("no upcoming section");var i="https://image.tmdb.org/t/p/original".concat(e),c="https://image.tmdb.org/t/p/original".concat(n);return window.screen.width<768&&r.src!==i?r.src=i:window.screen.width>=768&&r.src!==c?r.src=c:void 0}j=i("idULJ");var A=document.querySelector(".upcoming-card");function q(){return(q=t(o)(t(a).mark((function e(){var n,r,i;return t(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:n=e.sent,r=(0,j.getRandomItem)(n),I(S(r)),i=t(c)((function(){return R(r)}),200),window.addEventListener("resize",i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";A.innerHTML=t}window.addEventListener("DOMContentLoaded",(function(){return q.apply(this,arguments)})),i("gxg06"),i("4R5zJ")}();
//# sourceMappingURL=index.3e0a768e.js.map
