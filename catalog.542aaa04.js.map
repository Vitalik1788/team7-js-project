{"mappings":"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","sources":["src/javascript/header.js","node_modules/@parcel/runtime-js/lib/runtime-43f3195b39037524.js","src/catalog.js","src/javascript/catalog-page.js","src/javascript/catalog/components/refs.js","src/javascript/catalog/components/api_service.js","node_modules/@swc/helpers/lib/_define_property.js","<<jsx-config-pragma.js>>","src/javascript/create-error-markup.js","src/javascript/create-movie-card.js","node_modules/@parcel/runtime-js/lib/runtime-b6bcaa00fd3c5278.js"],"sourcesContent":["/** @format */\n// Mobile-menu\nconst mobileMenuButton = document.getElementById('menu');\nconst menuNav = document.querySelector('nav');\nconst overlay = document.getElementById('overlay');\nconst body = document.querySelector('body');\n\nmobileMenuButton.addEventListener('click', () => {\n  menuNav.style.left = '0';\n  overlay.style.display = 'block';\n  body.style.overflow = 'hidden';\n});\n\noverlay.addEventListener('click', () => {\n  menuNav.style.left = '-64%';\n  overlay.style.display = 'none';\n  body.style.overflow = 'auto';\n});\n// Theme\n\nconst LightSwitcher = document.querySelector('.switcher');\nlet isLight = localStorage.getItem('isLight') === 'true';\n\ndocument.body.classList.toggle('light', isLight);\n\nLightSwitcher.onclick = function () {\n  isLight = !isLight;\n  document.body.classList.toggle('light', isLight);\n  localStorage.setItem('isLight', isLight);\n};\n\n//Switcher\nconst currentUrl = window.location.href;\n\nconst navLink = document.querySelectorAll(\n  '.mobile-menu__link, .header__nav-link'\n);\n\nnavLink[0].classList.add('current__nav-link');\nnavLink[3].classList.add('current__nav-link');\n\nif (currentUrl.includes('index')) {\n  return;\n} else if (currentUrl.includes('catalog')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.add('current__nav-link');\n  navLink[4].classList.add('current__nav-link');\n  return;\n} else if (currentUrl.includes('library')) {\n  navLink[0].classList.remove('current__nav-link');\n  navLink[3].classList.remove('current__nav-link');\n  navLink[1].classList.remove('current__nav-link');\n  navLink[4].classList.remove('current__nav-link');\n  navLink[2].classList.add('current__nav-link');\n  navLink[5].classList.add('current__nav-link');\n  return;\n}","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gin8l\\\":\\\"catalog.542aaa04.js\\\",\\\"iNwWb\\\":\\\"default.183d728c.jpg\\\",\\\"8hJTk\\\":\\\"catalog.f351c8ae.js\\\"}\"));","import './javascript/header';\nimport './javascript/hero';\nimport './javascript/catalog-page';\nimport './javascript/modal-trailer';\n\nimport './javascript/global-listener';\n\n","// Імпорти\nimport { refs } from './catalog/components/refs';\nimport ApiService from './catalog/components/api_service';\nimport { createErrorMarkup } from './create-error-markup';\nimport { createMovieCard } from './create-movie-card';\n\n// Змінні\nconst apiService = new ApiService();\n\nconst wrapper = document.querySelector('.pagination-wrapper');\n\nlet currentPage = 1;\nlet totalPages = 0;\n\n// Слухачі подій\n\nrefs.searchForm.addEventListener('submit', getInputValue);\nrefs.cancelBtn.addEventListener('click', clearInputValue);\nrefs.searchInput.addEventListener('input', onInput);\nrefs.nextPageBtn.addEventListener('click', onNextPage);\nrefs.prevPageBtn.addEventListener('click', onPrevPage);\nrefs.paginationContainer.addEventListener('click', onPageButtonClick);\n\n// Приховання елементів\n\nrefs.errorContainer.classList.add('is-hidden');\nrefs.cancelBtn.classList.add('is-hidden');\n\n// Запит трендів тижня\n\nrenderWeeklyTrends(currentPage);\n\n// Функції\n\nfunction renderWeeklyTrends(page) {\n  apiService.getMovies(page).then(handleMoviesData).catch(handleError);\n}\n\nfunction handleMoviesData(data) {\n  totalPages = data.total_pages;\n  createMovieCard(data);\n  updateNextButtonState(data.total_pages);\n  createPaginationButtons(totalPages, currentPage);\n}\n\nfunction handleError(error) {\n  refs.catalogList.innerHTML = '';\n  createErrorMarkup();\n  console.error('An error occurred:', error);\n}\n\nfunction getInputValue(e) {\n  e.preventDefault();\n\n  refs.paginationContainer.classList.remove('is-hidden');\n  refs.errorContainer.classList.add('is-hidden');\n\n  const query = refs.searchInput.value.trim();\n  apiService.query = query;\n  apiService.resetPage();\n  apiService.resetTotal();\n\n  if (query === '') {\n    handleEmptyQuery();\n  } else {\n    searchMovies();\n  }\n}\n\nfunction handleEmptyQuery() {\n  refs.catalogList.innerHTML = '';\n  createErrorMarkup();\n}\n\nasync function searchMovies() {\n  try {\n    const data = await apiService.getMovies();\n    if (data.total_results === 0) {\n      handleEmptyQuery();\n    } else {\n      wrapper.classList.remove('is-hidden');\n      totalPages = data.total_pages;\n      apiService.total = data.total_results;\n      createMovieCard(data);\n      currentPage = data.page;\n      createPaginationButtons(totalPages, currentPage);\n    }\n    refs.searchInput.value = '';\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nfunction onInput(e) {\n  if (e.currentTarget.value.trim()) {\n    refs.cancelBtn.classList.remove('is-hidden');\n  } else {\n    refs.cancelBtn.classList.add('is-hidden');\n  }\n}\n\nfunction clearInputValue() {\n  refs.cancelBtn.classList.add('is-hidden');\n  refs.searchInput.value = '';\n}\n\n// Пагінація\n\nfunction createPaginationButtons(totalPages, page) {\n  let liTag = '';\n  let afterPage = page + 1;\n  let beforePage = page - 1;\n\n  if (totalPages > 5) {\n    if (page > 2) {\n      liTag += `<li class=\"pagination-item\">\n        <button type=\"button\" class=\"pagination-button\">1</button>\n      </li>`;\n      if (page > 3) {\n        liTag += `<li class=\"pagination-item\">\n          <button type=\"button\" class=\"pagination-dots\">...</button>\n        </li>`;\n      }\n    }\n  }\n\n  if (page == totalPages) {\n    beforePage = beforePage - 1;\n  } else if (page == totalPages - 1) {\n    beforePage = beforePage - 1;\n  }\n  if (page == 1) {\n    afterPage = afterPage + 1;\n  } else if (page == 2) {\n    afterPage = afterPage + 1;\n  }\n\n  for (let plength = beforePage; plength <= afterPage; plength++) {\n    if (plength > totalPages || plength < 1) {\n      continue;\n    }\n    if (page == plength) {\n      active = 'is-active';\n    } else {\n      active = '';\n    }\n    liTag += `<li class=\"pagination-item\">\n      <button type=\"button\" class=\"pagination-button ${active}\">${plength}</button>\n    </li>`;\n  }\n\n  if (totalPages > 5) {\n    if (page < totalPages - 1) {\n      if (page < totalPages - 2) {\n        liTag += `<li class=\"pagination-item\">\n        <button type=\"button\" class=\"pagination-dots\">...</button>\n      </li>`;\n      }\n      liTag += `<li class=\"pagination-item\">\n      <button type=\"button\" class=\"pagination-button\">${totalPages}</button>\n    </li>`;\n    }\n  }\n\n  refs.paginationContainer.innerHTML = liTag;\n  return liTag;\n}\n\nfunction onPageButtonClick(event) {\n  if (event.target.tagName === 'BUTTON') {\n    const newPage = parseInt(event.target.textContent);\n    if (!isNaN(newPage) && newPage !== currentPage) {\n      currentPage = newPage;\n      apiService.page = newPage;\n      renderWeeklyTrends(currentPage);\n    }\n  }\n}\n\nfunction updateNextButtonState(totalPages) {\n  if (currentPage === totalPages) {\n    refs.nextPageBtn.setAttribute('disabled', 'disabled');\n  } else {\n    refs.nextPageBtn.removeAttribute('disabled');\n  }\n}\n\nfunction onNextPage() {\n  currentPage += 1;\n  apiService.incrementPage();\n  renderWeeklyTrends(currentPage);\n}\n\nfunction onPrevPage() {\n  if (currentPage > 1) {\n    currentPage -= 1;\n    apiService.decrementPage();\n    renderWeeklyTrends(currentPage);\n  }\n}\n","export const refs = {\n  searchForm: document.getElementById('movieSearchForm'),\n  searchInput: document.getElementById('movieInput'),\n  catalogList: document.getElementById('movieList'),\n  errorContainer: document.querySelector('.error-container'),\n  searchBtn: document.querySelector('.search-button'),\n  cancelBtn: document.querySelector('.cancel-button'),\n  paginationContainer: document.querySelector('.pagination-pages-list'),\n  paginationButton: document.querySelector('.pagination-button'),\n  nextPageBtn: document.querySelector('.next-button'),\n  prevPageBtn: document.querySelector('.prev-button'),\n};\n","export default class ApiService {\n  static BASE_URL = 'https://api.themoviedb.org/3';\n  static API_KEY = '41b8f9437bf3f899281f8a3f9bdc0891';\n\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.totalAmount = 0;\n  }\n\n  async getMovies() {\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ApiService.API_KEY}`,\n      },\n    };\n\n    let url = '';\n    if (this.searchQuery) {\n      url = `${ApiService.BASE_URL}/search/movie?api_key=${ApiService.API_KEY}&query=${this.searchQuery}&include_adult=false&language=en-US&page=${this.page}`;\n    } else {\n      url = `${ApiService.BASE_URL}/trending/all/week?api_key=${ApiService.API_KEY}&language=en-US&page=${this.page}`;\n    }\n\n    try {\n      const response = await fetch(url, options);\n      const movies = await response.json();\n      return movies;\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    this.page -= 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get total() {\n    return this.totalAmount;\n  }\n\n  set total(newTotal) {\n    this.totalAmount = newTotal;\n  }\n\n  resetTotal() {\n    this.totalAmount = 0;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n",null,"import { refs } from './catalog/components/refs';\n\nlet errorMarkupCreated = false;\n\nexport const createErrorMarkup = () => {\n  const wrapper = document.querySelector('.pagination-wrapper')\n\n  if (errorMarkupCreated) {\n    return; // Если функция уже вызвана, выходим из неё\n  }\n\n  const errorMarkup = `<p class=\"error-information\">OOPS...</p>\n  <p class=\"error-information\">We are very sorry!</p>\n  <p class=\"error-information\">\n    We don’t have any results matching your search.\n  </p>`;\n\n  const newErrorContainer = document.createElement('div');\n  newErrorContainer.innerHTML = errorMarkup;\n\n  refs.errorContainer.appendChild(newErrorContainer);\n  refs.errorContainer.classList.remove('is-hidden');\n  wrapper.classList.add('is-hidden')\n  errorMarkupCreated = true;\n};\n","import { refs } from './catalog/components/refs';\nimport defaultImg from '../images/default.jpg';\nimport starsRating from './stars-rating';\nimport { validateGenres } from './weekly-trends-genres';\nimport { openModalAboutFilm } from './movieModal';\n\nexport async function createMovieCard(data) {\n  const genresData = JSON.parse(localStorage.getItem('genres'));\n\n  const markupPromises = data.results.map(async movie => {\n    const imageSrc = movie.poster_path\n      ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n      : `${defaultImg}`;\n    const genresPromise = validateGenres(movie.genre_ids, genresData);\n    const genres = await genresPromise;\n    return `<li class=\"card-item\" data-id=\"${movie.id}\">\n        <img class=\"film-poster\" src=\"${imageSrc}\" alt=\"${\n      movie.original_title || movie.name\n    }\" />\n        <div class=\"overlay\">\n          <div class=\"film-info\">\n            <p class=\"film-title\">${movie.original_title || movie.name}</p>\n            <div class=\"film-details\">\n              <span class=\"film-description\">${genres} | ${\n      new Date(movie.release_date).getFullYear() ||\n      new Date(movie.first_air_date).getFullYear()\n    }</span>\n    <div class=\"stars-container\">${starsRating({\n      voteAverage: movie.vote_average,\n      isHero: false,\n    })}</div>            \n      <!-- <span class=\"film-rating\">${movie.vote_average.toFixed(1)}</span> -->\n            </div>\n          </div>\n        </div>\n      </li>`;\n  });\n\n  const markup = await Promise.all(markupPromises);\n\n  refs.catalogList.innerHTML = markup.join('');\n\n  const filmList = document.querySelector('.listListener');\n\n  filmList.addEventListener('click', event => {\n    const li = event.target.closest('.card-item');\n    const movieId = li.getAttribute('data-id');\n    openModalAboutFilm(movieId);\n  });\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('gin8l') + require('./helpers/bundle-manifest').resolve(\"iNwWb\");"],"names":["mobileMenuButton","document","getElementById","menuNav","querySelector","overlay","body","addEventListener","style","left","display","overflow","LightSwitcher","isLight","localStorage","getItem","classList","toggle","onclick","setItem","currentUrl","window","location","href","navLink","querySelectorAll","add","includes","remove","parcelRequire","register","JSON","parse","$bpxeT","$e14e2b95b46fc6e2$export$21666b427502ea6d","searchForm","searchInput","catalogList","errorContainer","searchBtn","cancelBtn","paginationContainer","paginationButton","nextPageBtn","prevPageBtn","Object","defineProperty","$cec85eba0a352189$exports","value","default","obj","key","enumerable","configurable","writable","$65e2b2bfca10440b$export$2e2bcd8739ae039","ApiService","this","searchQuery","page","totalAmount","$parcel$interopDefault","$2TvXO","mark","_callee","options","url","response","movies","method","headers","accept","Authorization","concat","API_KEY","_this","BASE_URL","fetch","_ctx","sent","json","console","error","t0","newQuery","newTotal","$f09f0158a7425537$var$errorMarkupCreated","$f09f0158a7425537$export$7e018aa348c28d8","wrapper","newErrorContainer","createElement","innerHTML","appendChild","$7752ee8894a13912$exports","getBundleURL","resolve","$f5c54d66bf370148$export$9d27b867a89df126","data","$f5c54d66bf370148$var$_createMovieCard","apply","arguments","_callee1","genresData","markupPromises","markup","results","map","movie","imageSrc","genresPromise","genres","poster_path","$htMbP","validateGenres","genre_ids","id","original_title","name","Date","release_date","getFullYear","first_air_date","$7svdd","voteAverage","vote_average","isHero","toFixed","Promise","all","_ctx1","join","event","movieId","target","closest","getAttribute","$VuQ7E","openModalAboutFilm","$db1539c3f52b1e98$var$apiService","$db1539c3f52b1e98$var$wrapper","$db1539c3f52b1e98$var$currentPage","$db1539c3f52b1e98$var$totalPages","$db1539c3f52b1e98$var$renderWeeklyTrends","getMovies","then","$db1539c3f52b1e98$var$handleMoviesData","catch","$db1539c3f52b1e98$var$handleError","totalPages2","total_pages","setAttribute","removeAttribute","$db1539c3f52b1e98$var$createPaginationButtons","$db1539c3f52b1e98$var$handleEmptyQuery","$db1539c3f52b1e98$var$_searchMovies","total_results","total","totalPages1","liTag","afterPage","beforePage","plength","active","e","preventDefault","query","trim","resetPage","resetTotal","$db1539c3f52b1e98$var$searchMovies","currentTarget","incrementPage","decrementPage","tagName","newPage","parseInt","textContent","isNaN"],"version":3,"file":"catalog.542aaa04.js.map"}